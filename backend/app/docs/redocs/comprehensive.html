<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FinVision API - Comprehensive Documentation</title>

    <!-- Google Fonts -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Cormorant+Garamond:wght@300;400;500&display=swap"
    />

    <!-- Design System CSS -->
    <link rel="stylesheet" href="design-system.css" />

    * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family:
    var(--font-family-sans); line-height: var(--line-height-relaxed); color:
    var(--color-secondary-900); background: var(--color-white); font-size:
    var(--font-size-base); font-weight: var(--font-weight-normal); } .header {
    background: linear-gradient( 135deg, var(--color-primary-500) 0%,
    var(--color-primary-600) 100% ); color: white; padding: 2rem 0; text-align:
    center; } .header h1 { font-family: "Playfair Display", "Georgia", serif;
    font-size: 2.25rem; font-weight: 700; line-height: 1.25; letter-spacing:
    -0.025em; margin-bottom: 1rem; } .header p { font-size: 1.125rem;
    font-weight: 400; line-height: 1.5; opacity: 0.9; max-width: 600px; margin:
    0 auto; } .nav-bar { background: var(--color-primary-50); border-bottom: 1px
    solid var(--color-primary-200); padding: 1rem 0; position: sticky; top: 0;
    z-index: 1000; } .nav-container { max-width: 1200px; margin: 0 auto;
    display: flex; justify-content: space-between; align-items: center; padding:
    0 2rem; } .nav-links { display: flex; gap: 2rem; } .nav-links a { color:
    var(--color-secondary-500); text-decoration: none; font-weight: 500;
    font-size: 0.875rem; transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .nav-links a:hover { color: var(--color-primary-500); } .nav-links a.active
    { color: var(--color-primary-500); font-weight: 600; } .container {
    max-width: 1200px; margin: 0 auto; padding: 0 2rem; } .content { display:
    grid; grid-template-columns: 250px 1fr; gap: 3rem; padding: 2rem 0; }
    .sidebar { position: sticky; top: 120px; height: fit-content; background:
    var(--color-primary-50); border-radius: 0.5rem; padding: 1.5rem; border: 1px
    solid var(--color-primary-200); } .sidebar h3 { font-family: "Playfair
    Display", "Georgia", serif; font-size: 1.25rem; font-weight: 600;
    margin-bottom: 1rem; color: var(--color-secondary-900); } .sidebar ul {
    list-style: none; } .sidebar li { margin-bottom: 0.5rem; } .sidebar a {
    color: var(--color-secondary-500); text-decoration: none; font-size:
    0.875rem; transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1); display:
    block; padding: 0.5rem; border-radius: 0.375rem; } .sidebar a:hover { color:
    var(--color-primary-500); background: var(--color-primary-200); } .sidebar
    a.active { color: var(--color-primary-500); background:
    var(--color-primary-200); font-weight: 500; } .main-content { background:
    var(--color-white); border-radius: 0.5rem; padding: 2rem; border: 1px solid
    var(--color-primary-200); } .section { margin-bottom: 3rem;
    scroll-margin-top: 120px; } .section h2 { font-family: "Playfair Display",
    "Georgia", serif; font-size: 1.875rem; font-weight: 700; line-height: 1.25;
    margin-bottom: 1rem; color: var(--color-secondary-900); border-bottom: 2px
    solid var(--color-primary-200); padding-bottom: 0.5rem; } .section h3 {
    font-family: "Playfair Display", "Georgia", serif; font-size: 1.5rem;
    font-weight: 600; line-height: 1.375; margin: 2rem 0 1rem 0; color:
    var(--color-secondary-900); } .section h4 { font-size: 1.25rem; font-weight:
    600; line-height: 1.375; margin: 1.5rem 0 0.75rem 0; color:
    var(--color-secondary-900); } .section p { margin-bottom: 1rem; color:
    var(--color-secondary-500); line-height: 1.625; } .section ul, .section ol {
    margin: 1rem 0; padding-left: 1.5rem; } .section li { margin-bottom: 0.5rem;
    color: var(--color-secondary-500); line-height: 1.625; } .code-block {
    background: #f8fafc; border: 1px solid #e0e7ff; border-radius: 0.375rem;
    padding: 1rem; margin: 1rem 0; overflow-x: auto; font-family: "JetBrains
    Mono", monospace; font-size: 0.875rem; line-height: 1.5; color: #171717; }
    .endpoint { background: #f0f4ff; border: 1px solid #e0e7ff; border-radius:
    0.5rem; padding: 1.5rem; margin: 1rem 0; } .endpoint-header { display: flex;
    align-items: center; gap: 1rem; margin-bottom: 1rem; } .method { padding:
    0.25rem 0.75rem; border-radius: 0.25rem; font-size: 0.75rem; font-weight:
    600; text-transform: uppercase; font-family: "JetBrains Mono", monospace; }
    .method.get { background: #10b981; color: white; } .method.post {
    background: #6366f1; color: white; } .method.put { background: #f59e0b;
    color: white; } .method.delete { background: #ef4444; color: white; }
    .endpoint-path { font-family: "JetBrains Mono", monospace; font-size:
    0.875rem; color: #171717; font-weight: 500; } .endpoint-description { color:
    #737373; line-height: 1.625; } .json-viewer { background: #f8fafc; border:
    1px solid #e0e7ff; border-radius: 0.375rem; padding: 1rem; margin: 1rem 0;
    overflow-x: auto; font-family: "JetBrains Mono", monospace; font-size:
    0.875rem; line-height: 1.5; color: #171717; max-height: 400px; overflow-y:
    auto; } .download-btn { display: inline-flex; align-items: center; gap:
    0.5rem; background: #6366f1; color: white; padding: 0.75rem 1.5rem;
    border-radius: 0.375rem; text-decoration: none; font-weight: 500; font-size:
    0.875rem; transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    margin: 1rem 0; } .download-btn:hover { background: #4f46e5; } .download-btn
    svg { width: 1rem; height: 1rem; } @media (max-width: 768px) { .content {
    grid-template-columns: 1fr; gap: 1rem; } .sidebar { position: static; order:
    2; } .main-content { order: 1; } .nav-container { flex-direction: column;
    gap: 1rem; } .nav-links { flex-wrap: wrap; justify-content: center; }
  </head>
  <body>
    <!-- Header -->
    <div class="header">
      <div class="container">
        <h1>FinVision API Documentation</h1>
        <p>Comprehensive guide to the FinVision Financial Modeling API</p>
      </div>
    </div>

    <!-- Navigation -->
    <div class="nav-bar">
      <div class="nav-container">
        <div class="nav-links">
          <a href="/api/v1/docs/">Home</a>
          <a href="/api/v1/docs/redoc">ReDoc</a>
          <a href="/api/v1/docs/swagger">Swagger UI</a>
          <a href="/api/v1/docs/comprehensive" class="active">Full Docs</a>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="container">
      <div class="content">
        <!-- Sidebar -->
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
            <li><a href="#overview" class="active">Overview</a></li>
            <li><a href="#authentication">Authentication</a></li>
            <li><a href="#endpoints">API Endpoints</a></li>
            <li><a href="#models">Data Models</a></li>
            <li><a href="#examples">Examples</a></li>
            <li><a href="#errors">Error Handling</a></li>
            <li><a href="#rate-limits">Rate Limits</a></li>
            <li><a href="#postman">Postman Collection</a></li>
          </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
          <!-- Overview Section -->
          <div id="overview" class="section">
            <h2>Overview</h2>
            <p>
              The FinVision API provides comprehensive financial modeling
              capabilities for enterprise applications. Built with modern
              technologies and industry best practices, it offers robust risk
              assessment, portfolio optimization, and market analysis tools.
            </p>

            <h3>Key Features</h3>
            <ul>
              <li>
                <strong>Risk Assessment:</strong> Advanced Value at Risk (VaR)
                calculations and stress testing
              </li>
              <li>
                <strong>Portfolio Optimization:</strong> Modern portfolio theory
                implementation with efficient frontier analysis
              </li>
              <li>
                <strong>Market Analysis:</strong> Real-time market data
                integration and trend analysis
              </li>
              <li>
                <strong>Scenario Modeling:</strong> Monte Carlo simulations and
                what-if analysis
              </li>
              <li>
                <strong>Reporting:</strong> Comprehensive financial reports and
                visualizations
              </li>
            </ul>

            <h3>Base URL</h3>
            <div class="code-block">
              https://fin-model-production.up.railway.app/api/v1
            </div>

            <h3>API Version</h3>
            <p>Current version: <strong>v1.0.0</strong></p>
          </div>

          <!-- Authentication Section -->
          <div id="authentication" class="section">
            <h2>Authentication</h2>
            <p>
              The FinVision API uses JWT (JSON Web Tokens) for authentication.
              All API requests must include a valid JWT token in the
              Authorization header.
            </p>

            <h3>Getting Started</h3>
            <ol>
              <li>Register for an account at the FinVision platform</li>
              <li>Generate API credentials from your dashboard</li>
              <li>Use the credentials to obtain a JWT token</li>
              <li>Include the token in all subsequent requests</li>
            </ol>

            <h3>Authentication Endpoints</h3>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/auth/login</span>
              </div>
              <p class="endpoint-description">
                Authenticate with username and password to obtain a JWT token.
              </p>
            </div>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/auth/refresh</span>
              </div>
              <p class="endpoint-description">
                Refresh an expired JWT token using a refresh token.
              </p>
            </div>

            <h3>Request Headers</h3>
            <div class="code-block">
              Authorization: Bearer &lt;your-jwt-token&gt; Content-Type:
              application/json
            </div>
          </div>

          <!-- API Endpoints Section -->
          <div id="endpoints" class="section">
            <h2>API Endpoints</h2>

            <h3>Financial Models</h3>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/models</span>
              </div>
              <p class="endpoint-description">
                Retrieve all financial models for the authenticated user.
              </p>
            </div>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/models</span>
              </div>
              <p class="endpoint-description">
                Create a new financial model with specified parameters.
              </p>
            </div>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/models/{model_id}</span>
              </div>
              <p class="endpoint-description">
                Retrieve a specific financial model by ID.
              </p>
            </div>

            <h3>Risk Analysis</h3>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/risk/var</span>
              </div>
              <p class="endpoint-description">
                Calculate Value at Risk (VaR) for a portfolio.
              </p>
            </div>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/risk/stress-test</span>
              </div>
              <p class="endpoint-description">
                Perform stress testing on financial models.
              </p>
            </div>

            <h3>Portfolio Optimization</h3>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/portfolio/optimize</span>
              </div>
              <p class="endpoint-description">
                Optimize portfolio allocation using modern portfolio theory.
              </p>
            </div>

            <div class="endpoint">
              <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/portfolio/efficient-frontier</span>
              </div>
              <p class="endpoint-description">
                Generate efficient frontier data for portfolio analysis.
              </p>
            </div>
          </div>

          <!-- Data Models Section -->
          <div id="models" class="section">
            <h2>Data Models</h2>

            <h3>Financial Model</h3>
            <div class="code-block">
              { "id": "string", "name": "string", "description": "string",
              "type": "string", "parameters": { "risk_tolerance": "number",
              "time_horizon": "number", "investment_amount": "number" },
              "created_at": "datetime", "updated_at": "datetime" }
            </div>

            <h3>Portfolio</h3>
            <div class="code-block">
              { "id": "string", "name": "string", "assets": [ { "symbol":
              "string", "weight": "number", "expected_return": "number",
              "volatility": "number" } ], "total_value": "number",
              "risk_metrics": { "var_95": "number", "sharpe_ratio": "number",
              "beta": "number" } }
            </div>

            <h3>Risk Analysis Result</h3>
            <div class="code-block">
              { "portfolio_id": "string", "var_95": "number", "var_99":
              "number", "expected_shortfall": "number", "confidence_interval": {
              "lower": "number", "upper": "number" }, "stress_test_results": [ {
              "scenario": "string", "impact": "number" } ] }
            </div>
          </div>

          <!-- Examples Section -->
          <div id="examples" class="section">
            <h2>Examples</h2>

            <h3>Creating a Financial Model</h3>
            <div class="code-block">
              POST /api/v1/models Authorization: Bearer &lt;your-jwt-token&gt;
              Content-Type: application/json { "name": "Conservative Portfolio
              Model", "description": "Low-risk portfolio for retirement
              planning", "type": "portfolio_optimization", "parameters": {
              "risk_tolerance": 0.2, "time_horizon": 10, "investment_amount":
              100000 } }
            </div>

            <h3>Calculating VaR</h3>
            <div class="code-block">
              POST /api/v1/risk/var Authorization: Bearer &lt;your-jwt-token&gt;
              Content-Type: application/json { "portfolio_id": "portfolio_123",
              "confidence_level": 0.95, "time_horizon": 1 }
            </div>

            <h3>Portfolio Optimization</h3>
            <div class="code-block">
              POST /api/v1/portfolio/optimize Authorization: Bearer
              &lt;your-jwt-token&gt; Content-Type: application/json { "assets":
              [ {"symbol": "AAPL", "expected_return": 0.12, "volatility": 0.25},
              {"symbol": "GOOGL", "expected_return": 0.15, "volatility": 0.30},
              {"symbol": "MSFT", "expected_return": 0.10, "volatility": 0.20} ],
              "target_return": 0.12, "risk_free_rate": 0.02 }
            </div>
          </div>

          <!-- Error Handling Section -->
          <div id="errors" class="section">
            <h2>Error Handling</h2>

            <p>
              The API uses standard HTTP status codes and returns detailed error
              messages in JSON format.
            </p>

            <h3>Common Error Codes</h3>
            <ul>
              <li>
                <strong>400 Bad Request:</strong> Invalid request parameters
              </li>
              <li>
                <strong>401 Unauthorized:</strong> Invalid or missing
                authentication
              </li>
              <li><strong>403 Forbidden:</strong> Insufficient permissions</li>
              <li><strong>404 Not Found:</strong> Resource not found</li>
              <li>
                <strong>422 Unprocessable Entity:</strong> Validation errors
              </li>
              <li>
                <strong>429 Too Many Requests:</strong> Rate limit exceeded
              </li>
              <li><strong>500 Internal Server Error:</strong> Server error</li>
            </ul>

            <h3>Error Response Format</h3>
            <div class="code-block">
              { "error": { "code": "string", "message": "string", "details":
              "object" } }
            </div>
          </div>

          <!-- Rate Limits Section -->
          <div id="rate-limits" class="section">
            <h2>Rate Limits</h2>

            <p>
              To ensure fair usage and system stability, the API implements rate
              limiting:
            </p>

            <ul>
              <li><strong>Standard Plan:</strong> 1,000 requests per hour</li>
              <li>
                <strong>Professional Plan:</strong> 10,000 requests per hour
              </li>
              <li>
                <strong>Enterprise Plan:</strong> 100,000 requests per hour
              </li>
            </ul>

            <h3>Rate Limit Headers</h3>
            <div class="code-block">
              X-RateLimit-Limit: 1000 X-RateLimit-Remaining: 999
              X-RateLimit-Reset: 1640995200
            </div>
          </div>

          <!-- Postman Collection Section -->
          <div id="postman" class="section">
            <h2>Postman Collection</h2>

            <p>
              Download our comprehensive Postman collection to get started
              quickly with the FinVision API.
            </p>

            <a href="/api/v1/docs/postman" class="download-btn">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                ></path>
              </svg>
              Download Postman Collection
            </a>

            <h3>Collection Features</h3>
            <ul>
              <li>Pre-configured environment variables</li>
              <li>Example requests for all endpoints</li>
              <li>Authentication setup</li>
              <li>Response examples</li>
              <li>Test scripts for validation</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Update active sidebar link based on scroll position
      window.addEventListener("scroll", () => {
        const sections = document.querySelectorAll(".section");
        const navLinks = document.querySelectorAll(".sidebar a");

        let current = "";
        sections.forEach((section) => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.clientHeight;
          if (window.pageYOffset >= sectionTop - 200) {
            current = section.getAttribute("id");
          }
        });

        navLinks.forEach((link) => {
          link.classList.remove("active");
          if (link.getAttribute("href") === `#${current}`) {
            link.classList.add("active");
          }
        });
      });
    </script>
  </body>
</html>
