---
title: 'Transitions'
description: 'Comprehensive transition system for smooth animations and state changes. Includes duration, easing, and property configurations for consistent user experience.'
parameters:
  docs:
    description:
      component: 'Our transition system provides a consistent approach to creating smooth animations and state changes through carefully crafted timing and easing functions.'
    canvas:
      sourceState: 'hidden'
---

import { Meta, Story, Canvas, ArgsTable } from '@storybook/blocks';
import { tokens } from '../../tokens';

<Meta
  title="Design System/Foundations/Transitions"
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
/>

# Transitions

Our transition system provides a consistent approach to creating smooth animations and state changes through carefully crafted timing and easing functions.

## Overview

The transition system is designed to create fluid, predictable animations that enhance user experience without being distracting. Each transition serves a specific purpose in the interface, from subtle hover effects to prominent state changes.

## Token Definitions

### Transition Durations

```typescript
tokens.transitions.duration = {
  fast: '150ms', // Quick feedback
  normal: '250ms', // Standard transitions
  slow: '350ms', // Prominent changes
  slower: '500ms', // Major state changes
};
```

### Transition Easing

```typescript
tokens.transitions.easing = {
  linear: 'linear',
  ease: 'ease',
  easeIn: 'ease-in',
  easeOut: 'ease-out',
  easeInOut: 'ease-in-out',
  // Custom easing functions
  smooth: 'cubic-bezier(0.4, 0, 0.2, 1)',
  bounce: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',
};
```

### Transition Properties

```typescript
tokens.transitions.properties = {
  all: 'all',
  colors: 'color, background-color, border-color',
  transform: 'transform',
  opacity: 'opacity',
  shadow: 'box-shadow',
  size: 'width, height, padding, margin',
};
```

## Usage Rules

### 1. **Fast Transitions (150ms)**

- **Hover states**: Quick feedback for interactive elements
- **Focus indicators**: Immediate visual response
- **Micro-interactions**: Subtle state changes
- **Button feedback**: Instant response to user actions

### 2. **Normal Transitions (250ms)**

- **Color changes**: Standard color transitions
- **Opacity changes**: Fade in/out effects
- **Transform effects**: Movement and scaling
- **Shadow changes**: Elevation adjustments

### 3. **Slow Transitions (350ms+)**

- **Major state changes**: Loading states, page transitions
- **Complex animations**: Multi-step interactions
- **Attention-grabbing**: Important notifications
- **Smooth scrolling**: Page-level animations

## Best Practices

### 1. **Consistent Timing**

```tsx
// ✅ Good - Consistent transition timing
<button style={{
  transition: `all ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`
}}>
  Hover me
</button>

<div style={{
  transition: `opacity ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`
}}>
  Fade effect
</div>

// ❌ Bad - Inconsistent timing
<button style={{ transition: 'all 200ms ease' }}>
  Hover me
</button>

<div style={{ transition: 'opacity 500ms linear' }}>
  Fade effect
</div>
```

### 2. **Appropriate Easing**

```tsx
// ✅ Good - Appropriate easing for different effects
<button style={{
  transition: `transform ${tokens.transitions.duration.fast} ${tokens.transitions.easing.easeOut}`
}}>
  Quick scale effect
</button>

<div style={{
  transition: `opacity ${tokens.transitions.duration.slow} ${tokens.transitions.easing.easeInOut}`
}}>
  Smooth fade
</div>

// ❌ Bad - Inappropriate easing
<button style={{
  transition: `transform ${tokens.transitions.duration.slow} ${tokens.transitions.easing.linear}`
}}>
  Mechanical movement
</button>
```

### 3. **Performance Considerations**

```tsx
// ✅ Good - GPU-accelerated properties
<div style={{
  transition: `transform ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`
}}>
  Smooth transform
</div>

// ❌ Bad - Layout-triggering properties
<div style={{
  transition: `width ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`
}}>
  Layout shift
</div>
```

### 4. **Reduced Motion Support**

```tsx
// ✅ Good - Respect user preferences
const prefersReducedMotion = window.matchMedia(
  '(prefers-reduced-motion: reduce)'
).matches;

<div
  style={{
    transition: prefersReducedMotion
      ? 'none'
      : `opacity ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`,
  }}
>
  Accessible animation
</div>;
```

## How-To Guides

### Creating a Button Component

```tsx
import { tokens } from '@/design-system/tokens';

interface ButtonProps {
  variant?: 'primary' | 'secondary';
  size?: 'small' | 'medium' | 'large';
  children: React.ReactNode;
}

const Button = ({
  variant = 'primary',
  size = 'medium',
  children,
}: ButtonProps) => {
  const getTransition = () => {
    return `${tokens.transitions.properties.colors} ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`;
  };

  const getTransformTransition = () => {
    return `${tokens.transitions.properties.transform} ${tokens.transitions.duration.fast} ${tokens.transitions.easing.easeOut}`;
  };

  return (
    <button
      style={{
        backgroundColor:
          variant === 'primary'
            ? tokens.colors.primary[500]
            : tokens.colors.white,
        color:
          variant === 'primary'
            ? tokens.colors.white
            : tokens.colors.secondary[700],
        border:
          variant === 'secondary'
            ? `1px solid ${tokens.colors.secondary[300]}`
            : 'none',
        padding:
          size === 'small'
            ? '8px 16px'
            : size === 'medium'
            ? '12px 24px'
            : '16px 32px',
        borderRadius: tokens.borderRadius.md,
        fontSize: tokens.typography.fontSize.base,
        fontWeight: tokens.typography.fontWeight.medium,
        cursor: 'pointer',
        transition: `${getTransition()}, ${getTransformTransition()}`,
        transform: 'translateY(0)',
      }}
      onMouseEnter={e => {
        e.currentTarget.style.backgroundColor =
          variant === 'primary'
            ? tokens.colors.primary[600]
            : tokens.colors.secondary[50];
        e.currentTarget.style.transform = 'translateY(-1px)';
      }}
      onMouseLeave={e => {
        e.currentTarget.style.backgroundColor =
          variant === 'primary'
            ? tokens.colors.primary[500]
            : tokens.colors.white;
        e.currentTarget.style.transform = 'translateY(0)';
      }}
    >
      {children}
    </button>
  );
};
```

### Creating a Card Component

```tsx
interface CardProps {
  variant?: 'default' | 'elevated' | 'interactive';
  children: React.ReactNode;
}

const Card = ({ variant = 'default', children }: CardProps) => {
  const getTransition = () => {
    const baseTransition = `${tokens.transitions.properties.shadow} ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`;

    if (variant === 'interactive') {
      return `${baseTransition}, ${tokens.transitions.properties.transform} ${tokens.transitions.duration.fast} ${tokens.transitions.easing.easeOut}`;
    }

    return baseTransition;
  };

  return (
    <div
      style={{
        backgroundColor: tokens.colors.white,
        border: `1px solid ${tokens.colors.secondary[200]}`,
        borderRadius: tokens.borderRadius.lg,
        padding: tokens.spacing[6],
        boxShadow:
          variant === 'elevated' ? tokens.shadows.md : tokens.shadows.sm,
        transition: getTransition(),
        transform: 'translateY(0)',
        cursor: variant === 'interactive' ? 'pointer' : 'default',
      }}
      onMouseEnter={
        variant === 'interactive'
          ? e => {
              e.currentTarget.style.boxShadow = tokens.shadows.lg;
              e.currentTarget.style.transform = 'translateY(-2px)';
            }
          : undefined
      }
      onMouseLeave={
        variant === 'interactive'
          ? e => {
              e.currentTarget.style.boxShadow = tokens.shadows.sm;
              e.currentTarget.style.transform = 'translateY(0)';
            }
          : undefined
      }
    >
      {children}
    </div>
  );
};
```

### Creating a Modal Component

```tsx
interface ModalProps {
  isOpen: boolean;
  onClose: () => void;
  children: React.ReactNode;
}

const Modal = ({ isOpen, onClose, children }: ModalProps) => {
  const backdropTransition = `${tokens.transitions.properties.opacity} ${tokens.transitions.duration.slow} ${tokens.transitions.easing.easeInOut}`;
  const modalTransition = `${tokens.transitions.properties.all} ${tokens.transitions.duration.slow} ${tokens.transitions.easing.smooth}`;

  if (!isOpen) return null;

  return (
    <div
      style={{
        position: 'fixed',
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        backgroundColor: 'rgba(0, 0, 0, 0.5)',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        zIndex: tokens.zIndex.modal,
        opacity: 1,
        transition: backdropTransition,
      }}
      onClick={onClose}
    >
      <div
        style={{
          backgroundColor: tokens.colors.white,
          borderRadius: tokens.borderRadius.lg,
          padding: tokens.spacing[8],
          maxWidth: '500px',
          width: '90%',
          maxHeight: '80vh',
          overflow: 'auto',
          boxShadow: tokens.shadows.xl,
          transform: 'scale(1)',
          transition: modalTransition,
        }}
        onClick={e => e.stopPropagation()}
      >
        {children}
      </div>
    </div>
  );
};
```

## Common Patterns

### Hover Effects

```tsx
const HoverEffects = () => {
  const effects = [
    {
      name: 'Scale',
      style: {
        transition: `${tokens.transitions.properties.transform} ${tokens.transitions.duration.fast} ${tokens.transitions.easing.easeOut}`,
        transform: 'scale(1)',
      },
      hover: { transform: 'scale(1.05)' },
    },
    {
      name: 'Lift',
      style: {
        transition: `${tokens.transitions.properties.transform} ${tokens.transitions.duration.fast} ${tokens.transitions.easing.easeOut}`,
        transform: 'translateY(0)',
      },
      hover: { transform: 'translateY(-2px)' },
    },
    {
      name: 'Glow',
      style: {
        transition: `${tokens.transitions.properties.shadow} ${tokens.transitions.duration.normal} ${tokens.transitions.easing.smooth}`,
        boxShadow: tokens.shadows.sm,
      },
      hover: { boxShadow: tokens.shadows.lg },
    },
  ];

  return (
    <div className="space-y-4">
      {effects.map((effect, index) => (
        <div
          key={index}
          style={{
            ...effect.style,
            padding: tokens.spacing[4],
            backgroundColor: tokens.colors.primary[100],
            border: `1px solid ${tokens.colors.primary[300]}`,
            borderRadius: tokens.borderRadius.md,
            cursor: 'pointer',
          }}
          onMouseEnter={e => {
            Object.assign(e.currentTarget.style, effect.hover);
          }}
          onMouseLeave={e => {
            Object.assign(e.currentTarget.style, effect.style);
          }}
        >
          {effect.name} Effect
        </div>
      ))}
    </div>
  );
};
```

### Loading States

```tsx
const LoadingSpinner = () => {
  return (
    <div
      style={{
        width: '40px',
        height: '40px',
        border: `3px solid ${tokens.colors.secondary[200]}`,
        borderTop: `3px solid ${tokens.colors.primary[500]}`,
        borderRadius: '50%',
        animation: `spin ${tokens.transitions.duration.slow} linear infinite`,
      }}
    />
  );
};

// CSS for the animation
const spinKeyframes = `
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
`;
```

## Accessibility Guidelines

### 1. **Reduced Motion**

- Always respect `prefers-reduced-motion` user preference
- Provide alternative interactions for users who prefer minimal animation
- Test with reduced motion settings enabled

### 2. **Focus Management**

- Ensure transitions don't interfere with focus indicators
- Maintain keyboard navigation during animations
- Provide clear visual feedback for focus states

### 3. **Performance**

- Use GPU-accelerated properties (transform, opacity) when possible
- Avoid animating layout-triggering properties (width, height, margin)
- Test performance on lower-end devices

### 4. **Timing**

- Keep animations under 500ms for most interactions
- Use longer durations only for major state changes
- Ensure animations don't block user interactions

## Testing Checklist

- [ ] All transitions work with reduced motion preference
- [ ] Animations perform well on mobile devices
- [ ] Focus indicators remain visible during transitions
- [ ] Transitions don't interfere with keyboard navigation
- [ ] Consistent timing across similar interactions
- [ ] Smooth performance on lower-end devices

## Resources

- [WCAG Animation Guidelines](https://www.w3.org/WAI/WCAG21/Understanding/pause-stop-hide.html)
- [CSS Transitions Best Practices](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions)
