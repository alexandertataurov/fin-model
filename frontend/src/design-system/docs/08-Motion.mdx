---
title: 'Motion'
description: 'Comprehensive motion system for smooth interactions and feedback'
parameters:
  docs:
    description:
      component: 'Our motion system provides consistent, purposeful animations that enhance user experience, provide feedback, and guide attention through the interface.'
    canvas:
      sourceState: 'hidden'
---

import { Meta, Story, Canvas } from '@storybook/blocks';
import { tokens } from '../tokens';

<Meta
  title="* - Documentation/Foundations/Motion"
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
/>

# Motion

Our motion system provides consistent, purposeful animations that enhance user experience, provide feedback, and guide attention through the interface.

## Overview

The motion system is built on accessibility-first principles with consistent easing curves and duration scales. Each animation serves a specific purpose in the interface, from micro-interactions to page transitions.

## Token Definitions

### Easing Curves

```typescript
tokens.motion = {
  easing: {
    linear: 'linear',
    ease: 'ease',
    easeIn: 'ease-in',
    easeOut: 'ease-out',
    easeInOut: 'ease-in-out',
    // Custom easing curves
    smooth: 'cubic-bezier(0.4, 0, 0.2, 1)',
    bounce: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)',
    elastic: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',
  },
};
```

### Duration Scale

```typescript
tokens.motion = {
  duration: {
    fast: '150ms', // Quick feedback
    normal: '300ms', // Standard transitions
    slow: '500ms', // Complex animations
    slower: '700ms', // Page transitions
    slowest: '1000ms', // Hero animations
  },
};
```

### Animation Patterns

```typescript
tokens.motion = {
  patterns: {
    // Micro-interactions
    button: {
      duration: '150ms',
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
    },
    // Component transitions
    card: {
      duration: '300ms',
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
    },
    // Page transitions
    page: {
      duration: '500ms',
      easing: 'cubic-bezier(0.4, 0, 0.2, 1)',
    },
    // Loading states
    loading: {
      duration: '1000ms',
      easing: 'linear',
    },
  },
};
```

## Usage Rules

### 1. **Duration Guidelines**

- **Fast (150ms)**: Button clicks, hover states, micro-interactions
- **Normal (300ms)**: Component transitions, form interactions
- **Slow (500ms)**: Page transitions, modal animations
- **Slower (700ms)**: Complex animations, hero content
- **Slowest (1000ms)**: Loading animations, decorative elements

### 2. **Easing Usage**

- **Smooth**: Standard UI transitions, component animations
- **Ease-out**: Entering elements, expanding content
- **Ease-in**: Exiting elements, collapsing content
- **Ease-in-out**: Complex animations, page transitions
- **Bounce**: Playful interactions, success feedback
- **Elastic**: Attention-grabbing elements, notifications

### 3. **Animation Patterns**

- **Micro-interactions**: Quick, subtle feedback
- **Component transitions**: Smooth state changes
- **Page transitions**: Clear navigation feedback
- **Loading states**: Clear progress indication

### 4. **Accessibility Considerations**

- Respect `prefers-reduced-motion`
- Provide alternative visual feedback
- Ensure animations don't cause motion sickness

## Best Practices

### 1. **Purposeful Motion**

```tsx
// ✅ Good - Purposeful animation
<button
  style={{
    transition: `transform ${tokens.motion.duration.fast} ${tokens.motion.easing.smooth}`,
  }}
  onMouseEnter={e => {
    e.target.style.transform = 'scale(1.05)';
  }}
  onMouseLeave={e => {
    e.target.style.transform = 'scale(1)';
  }}
>
  Interactive Button
</button>

// ❌ Bad - Unnecessary animation
<div style={{ animation: 'spin 2s infinite' }}>
  Spinning content
</div>
```

### 2. **Consistent Timing**

```tsx
// ✅ Good - Consistent motion
const cardTransition = `${tokens.motion.duration.normal} ${tokens.motion.easing.smooth}`;

<div style={{ transition: cardTransition }}>
  <div style={{ transition: cardTransition }}>Consistent timing</div>
</div>;
```

### 3. **Accessibility Compliance**

```tsx
// ✅ Good - Respects motion preferences
const prefersReducedMotion = window.matchMedia(
  '(prefers-reduced-motion: reduce)'
).matches;

<div
  style={{
    transition: prefersReducedMotion
      ? 'none'
      : `${tokens.motion.duration.normal} ${tokens.motion.easing.smooth}`,
  }}
>
  Accessible content
</div>;
```

### 4. **Performance Optimization**

```tsx
// ✅ Good - Optimized animation
<div
  style={{
    transform: 'translateZ(0)', // Hardware acceleration
    willChange: 'transform',
    transition: `${tokens.motion.duration.fast} ${tokens.motion.easing.smooth}`,
  }}
>
  Optimized animation
</div>
```

## How-To Guides

### Creating a Motion Utility System

```tsx
import { tokens } from '@/design-system/tokens';

const motion = {
  // Duration utilities
  fast: tokens.motion.duration.fast,
  normal: tokens.motion.duration.normal,
  slow: tokens.motion.duration.slow,
  slower: tokens.motion.duration.slower,
  slowest: tokens.motion.duration.slowest,

  // Easing utilities
  linear: tokens.motion.easing.linear,
  smooth: tokens.motion.easing.smooth,
  bounce: tokens.motion.easing.bounce,
  elastic: tokens.motion.easing.elastic,

  // Transition utilities
  button: `${tokens.motion.duration.fast} ${tokens.motion.easing.smooth}`,
  card: `${tokens.motion.duration.normal} ${tokens.motion.easing.smooth}`,
  page: `${tokens.motion.duration.slow} ${tokens.motion.easing.smooth}`,
  loading: `${tokens.motion.duration.slowest} ${tokens.motion.easing.linear}`,

  // Animation utilities
  fadeIn: {
    opacity: [0, 1],
    duration: tokens.motion.duration.normal,
    easing: tokens.motion.easing.smooth,
  },
  slideUp: {
    transform: ['translateY(20px)', 'translateY(0)'],
    opacity: [0, 1],
    duration: tokens.motion.duration.normal,
    easing: tokens.motion.easing.smooth,
  },
  scale: {
    transform: ['scale(0.95)', 'scale(1)'],
    duration: tokens.motion.duration.fast,
    easing: tokens.motion.easing.smooth,
  },
};

// Usage example
const AnimatedCard = ({ children }: { children: React.ReactNode }) => (
  <div
    style={{
      transition: motion.card,
      transform: 'translateZ(0)',
      willChange: 'transform, opacity',
    }}
  >
    {children}
  </div>
);
```

### Creating an Animated Button Component

```tsx
interface AnimatedButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary';
  onClick?: () => void;
}

const AnimatedButton = ({
  children,
  variant = 'primary',
  onClick,
}: AnimatedButtonProps) => {
  const [isPressed, setIsPressed] = useState(false);

  const getStyles = () => {
    const baseStyles = {
      border: 'none',
      borderRadius: '6px',
      cursor: 'pointer',
      padding: '12px 24px',
      fontSize: '16px',
      fontWeight: 500,
      transition: `${tokens.motion.duration.fast} ${tokens.motion.easing.smooth}`,
      transform: 'translateZ(0)',
      willChange: 'transform, box-shadow',
    };

    const variantStyles = {
      primary: {
        backgroundColor: tokens.colors.primary[500],
        color: tokens.colors.white,
        boxShadow: tokens.shadows.sm,
      },
      secondary: {
        backgroundColor: tokens.colors.white,
        color: tokens.colors.secondary[700],
        border: `1px solid ${tokens.colors.secondary[300]}`,
        boxShadow: tokens.shadows.sm,
      },
    };

    const pressedStyles = isPressed
      ? {
          transform: 'translateZ(0) scale(0.98)',
          boxShadow: tokens.shadows.active,
        }
      : {};

    return {
      ...baseStyles,
      ...variantStyles[variant],
      ...pressedStyles,
    };
  };

  return (
    <button
      style={getStyles()}
      onClick={onClick}
      onMouseDown={() => setIsPressed(true)}
      onMouseUp={() => setIsPressed(false)}
      onMouseLeave={() => setIsPressed(false)}
    >
      {children}
    </button>
  );
};
```

### Creating a Loading Spinner

```tsx
interface LoadingSpinnerProps {
  size?: 'small' | 'medium' | 'large';
  color?: string;
}

const LoadingSpinner = ({
  size = 'medium',
  color = tokens.colors.primary[500],
}: LoadingSpinnerProps) => {
  const getSize = () => {
    switch (size) {
      case 'small':
        return '16px';
      case 'medium':
        return '24px';
      case 'large':
        return '32px';
    }
  };

  return (
    <div
      style={{
        width: getSize(),
        height: getSize(),
        border: `2px solid ${tokens.colors.secondary[200]}`,
        borderTop: `2px solid ${color}`,
        borderRadius: '50%',
        animation: `spin ${tokens.motion.duration.slowest} ${tokens.motion.easing.linear} infinite`,
      }}
    />
  );
};

// CSS for the spin animation
const spinKeyframes = `
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
`;
```

## Common Patterns

### Fade In Animation

```tsx
const FadeIn = ({
  children,
  delay = 0,
}: {
  children: React.ReactNode;
  delay?: number;
}) => {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    const timer = setTimeout(() => setIsVisible(true), delay);
    return () => clearTimeout(timer);
  }, [delay]);

  return (
    <div
      style={{
        opacity: isVisible ? 1 : 0,
        transform: isVisible ? 'translateY(0)' : 'translateY(20px)',
        transition: `${tokens.motion.duration.normal} ${tokens.motion.easing.smooth}`,
        willChange: 'opacity, transform',
      }}
    >
      {children}
    </div>
  );
};
```

### Slide In Animation

```tsx
const SlideIn = ({
  children,
  direction = 'up',
}: {
  children: React.ReactNode;
  direction?: 'up' | 'down' | 'left' | 'right';
}) => {
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    setIsVisible(true);
  }, []);

  const getTransform = () => {
    if (!isVisible) {
      switch (direction) {
        case 'up':
          return 'translateY(20px)';
        case 'down':
          return 'translateY(-20px)';
        case 'left':
          return 'translateX(20px)';
        case 'right':
          return 'translateX(-20px)';
      }
    }
    return 'translate(0, 0)';
  };

  return (
    <div
      style={{
        opacity: isVisible ? 1 : 0,
        transform: getTransform(),
        transition: `${tokens.motion.duration.normal} ${tokens.motion.easing.smooth}`,
        willChange: 'opacity, transform',
      }}
    >
      {children}
    </div>
  );
};
```

### Staggered Animation

```tsx
const StaggeredList = ({ items }: { items: string[] }) => {
  const [visibleItems, setVisibleItems] = useState<number[]>([]);

  useEffect(() => {
    items.forEach((_, index) => {
      setTimeout(() => {
        setVisibleItems(prev => [...prev, index]);
      }, index * 100);
    });
  }, [items]);

  return (
    <div>
      {items.map((item, index) => (
        <div
          key={index}
          style={{
            opacity: visibleItems.includes(index) ? 1 : 0,
            transform: visibleItems.includes(index)
              ? 'translateX(0)'
              : 'translateX(-20px)',
            transition: `${tokens.motion.duration.normal} ${tokens.motion.easing.smooth}`,
            marginBottom: tokens.spacing[2],
            willChange: 'opacity, transform',
          }}
        >
          {item}
        </div>
      ))}
    </div>
  );
};
```

## Accessibility Guidelines

### 1. **Reduced Motion**

- Always respect `prefers-reduced-motion` media query
- Provide alternative visual feedback
- Test with motion reduction enabled

### 2. **Motion Sickness**

- Avoid rapid, repetitive animations
- Use smooth easing curves
- Provide pause/stop controls for long animations

### 3. **Focus Management**

- Ensure animations don't interfere with focus
- Maintain proper tab order during animations
- Test with keyboard navigation

### 4. **Screen Reader Support**

- Use `aria-live` for dynamic content
- Provide alternative text for animated content
- Test with screen readers

## Testing Checklist

- [ ] Animations respect reduced motion preferences
- [ ] Motion doesn't cause motion sickness
- [ ] Focus management works during animations
- [ ] Screen readers can access animated content
- [ ] Performance is optimized for animations
- [ ] Alternative feedback is provided

## Resources

- [Web Animation API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API)
- [Reduced Motion Guidelines](https://www.w3.org/WAI/WCAG21/Understanding/motion-actuation.html)
- [Animation Performance](https://web.dev/animations-guide/)
